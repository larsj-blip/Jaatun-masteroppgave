%\section{Detailed Results}

\section{Complete results from fault injection}\label{appendix:complete_injection_results}

% Table generated by Excel2LaTeX from sheet 'Sheet1'
\begin{longtable}{lll}
\caption{Injection results}
\label{lst:injection_results}\\
{\bf Filename} & {\bf Average Difference} & {\bf Alternative } \\
             & {\bf From Control }      & {\bf Implementation Results}\\
 
    seidel-2d.float.txt & 0.0   & 0.00010252590179347587 \\
    seidel-2d.txt & 0.00010252590179347587 & 0.0 \\
    seidel-2d\_bit\_no\_1.fixed.txt & 0.00010252973353766834 & 7.836499591601375e-15 \\
    seidel-2d\_bit\_no\_1.float.txt & 7.836499591601375e-15 & 0.00010252973353766834 \\
    seidel-2d\_bit\_no\_2.fixed.txt & 0.00010242978918456464 & 1.0070183402433041e-14 \\
    seidel-2d\_bit\_no\_2.float.txt & 1.0070183402433041e-14 & 0.00010242978918456464 \\
    seidel-2d\_bit\_no\_3.fixed.txt & 0.00010269591987037501 & 1.7122632695390493e-14 \\
    seidel-2d\_bit\_no\_3.float.txt & 1.7122632695390493e-14 & 0.00010269591987037501 \\
    seidel-2d\_bit\_no\_4.fixed.txt & 0.00010227745091820854 & 2.8727424627485174e-14 \\
    seidel-2d\_bit\_no\_4.float.txt & 2.8727424627485174e-14 & 0.00010227745091820854 \\
    seidel-2d\_bit\_no\_5.fixed.txt & 0.00010277981877232038 & 5.09567649902877e-14 \\
    seidel-2d\_bit\_no\_5.float.txt & 5.09567649902877e-14 & 0.00010277981877232038 \\
    seidel-2d\_bit\_no\_6.fixed.txt & 0.00010250126707458161 & 8.628055195216561e-14 \\
    seidel-2d\_bit\_no\_6.float.txt & 8.628055195216561e-14 & 0.00010250126707458161 \\
    seidel-2d\_bit\_no\_7.fixed.txt & 0.00010450026309392104 & 1.2886278998079994e-13 \\
    seidel-2d\_bit\_no\_7.float.txt & 1.2886278998079994e-13 & 0.00010450026309392104 \\
    seidel-2d\_bit\_no\_8.fixed.txt & 0.00010662387752436846 & 2.3631074870349154e-13 \\
    seidel-2d\_bit\_no\_8.float.txt & 2.3631074870349154e-13 & 0.00010662387752436846 \\
    seidel-2d\_bit\_no\_9.fixed.txt & 9.194230723288186e-05 & 4.625698030993539e-13 \\
    seidel-2d\_bit\_no\_9.float.txt & 4.625698030993539e-13 & 9.194230723288186e-05 \\
    seidel-2d\_bit\_no\_10.fixed.txt & 8.414004397302073e-05 & 7.814396866027106e-13 \\
    seidel-2d\_bit\_no\_10.float.txt & 7.814396866027106e-13 & 8.414004397302073e-05 \\
    seidel-2d\_bit\_no\_11.fixed.txt & 9.683497321514389e-05 & 1.949109275844671e-12 \\
    seidel-2d\_bit\_no\_11.float.txt & 1.949109275844671e-12 & 9.683497321514389e-05 \\
    seidel-2d\_bit\_no\_12.fixed.txt & 0.00016945311659486383 & 5.926170726735548e-12 \\
    seidel-2d\_bit\_no\_12.float.txt & 5.926170726735548e-12 & 0.00016945311659486383 \\
    seidel-2d\_bit\_no\_13.fixed.txt & 0.00014676695716469516 & 1.1517751583576575e-11 \\
    seidel-2d\_bit\_no\_13.float.txt & 1.1517751583576575e-11 & 0.00014676695716469516 \\
    seidel-2d\_bit\_no\_14.fixed.txt & 0.00015912330669092686 & 1.7147093324539844e-11 \\
    seidel-2d\_bit\_no\_14.float.txt & 1.7147093324539844e-11 & 0.00015912330669092686 \\
    seidel-2d\_bit\_no\_15.fixed.txt & 0.0004508313725003589 & 3.461998942767223e-11 \\
    seidel-2d\_bit\_no\_15.float.txt & 3.461998942767223e-11 & 0.0004508313725003589 \\
    seidel-2d\_bit\_no\_16.fixed.txt & 0.0010460176076898182 & 7.976829700127646e-11 \\
    seidel-2d\_bit\_no\_16.float.txt & 7.976829700127646e-11 & 0.0010460176076898182 \\
    seidel-2d\_bit\_no\_17.fixed.txt & 0.0042558195475949955 & 1.2204403410519433e-10 \\
    seidel-2d\_bit\_no\_17.float.txt & 1.2204403410519433e-10 & 0.0042558195475949955 \\
    seidel-2d\_bit\_no\_18.fixed.txt & 0.0064681208001982834 & 2.373641398611048e-10 \\
    seidel-2d\_bit\_no\_18.float.txt & 2.373641398611048e-10 & 0.0064681208001982834 \\
    seidel-2d\_bit\_no\_19.fixed.txt & 0.010572742354750364 & 6.776253971886386e-10 \\
    seidel-2d\_bit\_no\_19.float.txt & 6.776253971886386e-10 & 0.010572742354750364 \\
    seidel-2d\_bit\_no\_20.fixed.txt & 0.022732906050977938 & 1.6178958072901225e-09 \\
    seidel-2d\_bit\_no\_20.float.txt & 1.6178958072901225e-09 & 0.022732906050977938 \\
    seidel-2d\_bit\_no\_21.fixed.txt & 0.04624822179096891 & 2.900568751875029e-09 \\
    seidel-2d\_bit\_no\_21.float.txt & 2.900568751875029e-09 & 0.04624822179096891 \\
    seidel-2d\_bit\_no\_22.fixed.txt & 0.05676147859394719 & 4.463706821820652e-09 \\
    seidel-2d\_bit\_no\_22.float.txt & 4.463706821820652e-09 & 0.05676147859394719 \\
    seidel-2d\_bit\_no\_23.fixed.txt & 0.11553374815410823 & 7.041500121288634e-09 \\
    seidel-2d\_bit\_no\_23.float.txt & 7.041500121288634e-09 & 0.11553374815410823 \\
    seidel-2d\_bit\_no\_24.fixed.txt & 0.2791558806105791 & 1.5552431969620665e-08 \\
    seidel-2d\_bit\_no\_24.float.txt & 1.5552431969620665e-08 & 0.2791558806105791 \\
    seidel-2d\_bit\_no\_25.fixed.txt & 0.9828830033440512 & 3.7436499037469934e-08 \\
    seidel-2d\_bit\_no\_25.float.txt & 3.7436499037469934e-08 & 0.9828830033440512 \\
    seidel-2d\_bit\_no\_26.fixed.txt & 5.123534709237707 & 6.479593805265462e-08 \\
    seidel-2d\_bit\_no\_26.float.txt & 6.479593805265462e-08 & 5.123534709237707 \\
    seidel-2d\_bit\_no\_27.fixed.txt & 20.34871134608706 & 1.1086531044075003e-07 \\
    seidel-2d\_bit\_no\_27.float.txt & 1.1086531044075003e-07 & 20.34871134608706 \\
    seidel-2d\_bit\_no\_28.fixed.txt & 53.444575446692376 & 2.1492355299898596e-07 \\
    seidel-2d\_bit\_no\_28.float.txt & 2.1492355299898596e-07 & 53.444575446692376 \\
    seidel-2d\_bit\_no\_29.fixed.txt & 118.06806922736634 & 4.875080832471769e-07 \\
    seidel-2d\_bit\_no\_29.float.txt & 4.875080832471769e-07 & 118.06806922736634 \\
    seidel-2d\_bit\_no\_30.fixed.txt & 240.38767306192983 & 8.453350257722744e-07 \\
    seidel-2d\_bit\_no\_30.float.txt & 8.453350257722744e-07 & 240.38767306192983 \\
    seidel-2d\_bit\_no\_31.fixed.txt & 432.92573090152945 & 2.020661384195993e-06 \\
    seidel-2d\_bit\_no\_31.float.txt & 2.020661384195993e-06 & 432.92573090152945 \\
    seidel-2d\_bit\_no\_32.fixed.txt & 0.00010252590179347587 & 6.188653891382238e-06 \\
    seidel-2d\_bit\_no\_32.float.txt & 6.188653891382238e-06 & 0.00010252590179347587 \\
    seidel-2d\_bit\_no\_33.fixed.txt & 0.00010252590179347587 & 1.2067690542822415e-05 \\
    seidel-2d\_bit\_no\_33.float.txt & 1.2067690542822415e-05 & 0.00010252590179347587 \\
    seidel-2d\_bit\_no\_34.fixed.txt & 0.00010252590179347587 & 1.7975386379592478e-05 \\
    seidel-2d\_bit\_no\_34.float.txt & 1.7975386379592478e-05 & 0.00010252590179347587 \\
    seidel-2d\_bit\_no\_35.fixed.txt & 0.00010252590179347587 & 3.630068274298885e-05 \\
    seidel-2d\_bit\_no\_35.float.txt & 3.630068274298885e-05 & 0.00010252590179347587 \\
    seidel-2d\_bit\_no\_36.fixed.txt & 0.00010252590179347587 & 8.364188265808143e-05 \\
    seidel-2d\_bit\_no\_36.float.txt & 8.364188265808143e-05 & 0.00010252590179347587 \\
    seidel-2d\_bit\_no\_37.fixed.txt & 0.00010252590179347587 & 0.00012797032836168635 \\
    seidel-2d\_bit\_no\_37.float.txt & 0.00012797032836168635 & 0.00010252590179347587 \\
    seidel-2d\_bit\_no\_38.fixed.txt & 0.00010252590179347587 & 0.00024889467014402257 \\
    seidel-2d\_bit\_no\_38.float.txt & 0.00024889467014402257 & 0.00010252590179347587 \\
    seidel-2d\_bit\_no\_39.fixed.txt & 0.00010252590179347587 & 0.0007105416960589848 \\
    seidel-2d\_bit\_no\_39.float.txt & 0.0007105416960589848 & 0.00010252590179347587 \\
    seidel-2d\_bit\_no\_40.fixed.txt & 0.00010252590179347587 & 0.0019417624576080793 \\
    seidel-2d\_bit\_no\_40.float.txt & 0.0019417624576080793 & 0.00010252590179347587 \\
    seidel-2d\_bit\_no\_41.fixed.txt & 0.00010252590179347587 & 0.003943187647018381 \\
    seidel-2d\_bit\_no\_41.float.txt & 0.003943187647018381 & 0.00010252590179347587 \\
    seidel-2d\_bit\_no\_42.fixed.txt & 0.00010252590179347587 & 0.007150903672185747 \\
    seidel-2d\_bit\_no\_42.float.txt & 0.007150903672185747 & 0.00010252590179347587 \\
    seidel-2d\_bit\_no\_43.fixed.txt & 0.00010252590179347587 & 0.013355891583010197 \\
    seidel-2d\_bit\_no\_43.float.txt & 0.013355891583010197 & 0.00010252590179347587 \\
    seidel-2d\_bit\_no\_44.fixed.txt & 0.00010252590179347587 & 0.013081305310932996 \\
    seidel-2d\_bit\_no\_44.float.txt & 0.013081305310932996 & 0.00010252590179347587 \\
    seidel-2d\_bit\_no\_45.fixed.txt & 0.00010252590179347587 & 0.01797072542866801 \\
    seidel-2d\_bit\_no\_45.float.txt & 0.01797072542866801 & 0.00010252590179347587 \\
    seidel-2d\_bit\_no\_46.fixed.txt & 0.00010252590179347587 & 0.03683588086365033 \\
    seidel-2d\_bit\_no\_46.float.txt & 0.03683588086365033 & 0.00010252590179347587 \\
    seidel-2d\_bit\_no\_47.fixed.txt & 0.00010252590179347587 & 0.1075653417011947 \\
    seidel-2d\_bit\_no\_47.float.txt & 0.1075653417011947 & 0.00010252590179347587 \\
    seidel-2d\_bit\_no\_48.fixed.txt & 0.00010252590179347587 & 0.38882888088824635 \\
    seidel-2d\_bit\_no\_48.float.txt & 0.38882888088824635 & 0.00010252590179347587 \\
    seidel-2d\_bit\_no\_49.fixed.txt & 0.00010252590179347587 & 1.9890269298258314 \\
    seidel-2d\_bit\_no\_49.float.txt & 1.9890269298258314 & 0.00010252590179347587 \\
    seidel-2d\_bit\_no\_50.fixed.txt & 0.00010252590179347587 & 8.629012699261413 \\
    seidel-2d\_bit\_no\_50.float.txt & 8.629012699261413 & 0.00010252590179347587 \\
    seidel-2d\_bit\_no\_51.fixed.txt & 0.00010252590179347587 & 25.795382086159993 \\
    seidel-2d\_bit\_no\_51.float.txt & 25.795382086159993 & 0.00010252590179347587 \\
    seidel-2d\_bit\_no\_52.fixed.txt & 0.00010252590179347587 & 64.65331813450862 \\
    seidel-2d\_bit\_no\_52.float.txt & 64.65331813450862 & 0.00010252590179347587 \\
    seidel-2d\_bit\_no\_53.fixed.txt & 0.00010252590179347587 & 132.3054843277936 \\
    seidel-2d\_bit\_no\_53.float.txt & 132.3054843277936 & 0.00010252590179347587 \\
    seidel-2d\_bit\_no\_54.fixed.txt & 0.00010252590179347587 & 140.41412113413136 \\
    seidel-2d\_bit\_no\_54.float.txt & 140.41412113413136 & 0.00010252590179347587 \\
    seidel-2d\_bit\_no\_55.fixed.txt & 0.00010252590179347587 & 25619.825047812476 \\
    seidel-2d\_bit\_no\_55.float.txt & 25619.825047812476 & 0.00010252590179347587 \\
    seidel-2d\_bit\_no\_56.fixed.txt & 0.00010252590179347587 & 6584294.581178659 \\
    seidel-2d\_bit\_no\_56.float.txt & 6584294.581178659 & 0.00010252590179347587 \\
    seidel-2d\_bit\_no\_57.fixed.txt & 0.00010252590179347587 & 431514915814.9726 \\
    seidel-2d\_bit\_no\_57.float.txt & 431514915814.9726 & 0.00010252590179347587 \\
    seidel-2d\_bit\_no\_58.fixed.txt & 0.00010252590179347587 & 1.8533424515933319e+21 \\
    seidel-2d\_bit\_no\_58.float.txt & 1.8533424515933319e+21 & 0.00010252590179347587 \\
    seidel-2d\_bit\_no\_59.fixed.txt & 0.00010252590179347587 & 3.4188133885483626e+40 \\
    seidel-2d\_bit\_no\_59.float.txt & 3.4188133885483626e+40 & 0.00010252590179347587 \\
    seidel-2d\_bit\_no\_60.fixed.txt & 0.00010252590179347587 & 1.1633619119162309e+79 \\
    seidel-2d\_bit\_no\_60.float.txt & 1.1633619119162309e+79 & 0.00010252590179347587 \\
    seidel-2d\_bit\_no\_61.fixed.txt & 0.00010252590179347587 & 1.3470810631989899e+156 \\
    seidel-2d\_bit\_no\_61.float.txt & 1.3470810631989899e+156 & 0.00010252590179347587 \\
    seidel-2d\_bit\_no\_62.fixed.txt & 0.00010252590179347587 & nan \\
    seidel-2d\_bit\_no\_62.float.txt & nan   & 0.00010252590179347587 \\
    seidel-2d\_bit\_no\_63.fixed.txt & 0.00010252590179347587 & 201.00625000002313 \\
    seidel-2d\_bit\_no\_63.float.txt & 201.00625000002313 & 0.00010252590179347587 \\
    seidel-2d\_bit\_no\_64.fixed.txt & 100.26608126362525 & nan \\
    seidel-2d\_bit\_no\_64.float.txt & nan   & 100.26608126362525 \\
    seidel-2d\_bit\_no\_65.fixed.txt & 101.22680332254677 & nan \\
    seidel-2d\_bit\_no\_65.float.txt & nan   & 101.22680332254677 \\
    seidel-2d\_bit\_no\_66.fixed.txt & 99.22911101286253 & nan \\
    seidel-2d\_bit\_no\_66.float.txt & nan   & 99.22911101286253 \\
    seidel-2d\_bit\_no\_70.fixed.txt & 101.53423877332334 & nan \\
    seidel-2d\_bit\_no\_70.float.txt & nan   & 101.53423877332334 \\
    seidel-2d\_bit\_no\_100.fixed.txt & 99.39829564810347 & nan \\
    seidel-2d\_bit\_no\_100.float.txt & nan   & 99.39829564810347 \\
%\end{tabular}%
%  \label{tab:addlabel}%
\end{longtable}%

\section{Comparison Script Repository}
In case of github being enshittified/destroyed by the corporate overlords presiding over it, readers may find the source code for the comparison script here:

\begin{lstlisting}
#!/usr/bin/env python3

import sys
from pathlib import Path

class Comparator:
    def __init__(self, control_data_path:Path, data_folder_path:Path):
        self.control_data_path = control_data_path
        self.data_folder_path = data_folder_path
        self.control_data = []
        self.results = {}

    def compare(self):
        with open(self.control_data_path) as control:
            string_data_representation = control.read().strip().split()
            self.control_data = self.cast_string_data_to_float(string_data_representation)
        for file in self.data_folder_path.iterdir():
            with open(file) as file_object:
                file_data = file_object.read().strip().split()
                data = self.cast_string_data_to_float(file_data)
                total_difference = 0
                for index, value in enumerate(data):
                    total_difference += abs(value - self.control_data[index])
                self.results[file.name] = total_difference / len(data)

    @staticmethod
    def cast_string_data_to_float(string_data_representation):
        return [float(value) for value in string_data_representation]

    def get_results(self):
        if len(self.results) == 0:
            return Result({})
        return Result(self.results)



class Result:

    OUTPUT_COLUMN_HEADERS = ["Filename", "Average Difference From Control", "Alternative Implementation Results"]
    FORMATTABLE_STRING = '{0}\t{1}\t{2}\n'

    def __init__(self, data:dict):
        self.data = data
        self.longest_filename = max([len(key) for key in self.data.keys()] + [len(self.OUTPUT_COLUMN_HEADERS[0])])
        self.longest_result_string = max([len(result) for result in self.data.items()] + [len(self.OUTPUT_COLUMN_HEADERS[1]), len(self.OUTPUT_COLUMN_HEADERS[2])])

    def get_alternative_implementation_results(self, path:Path):
        input_filename = path.name
        # implicitly requiring the format of the files to be benchmark_bit_no_30[.fixed|.float| ].txt
        # should ideally be in the tests
        input_injected_bit =  self.get_injected_bit_from_filename(input_filename)
        for key in self.data:
            injected_bit = self.get_injected_bit_from_filename(key)
            if injected_bit == input_injected_bit and input_filename != key:
                return self.data[key]
        return "no data found"

    @staticmethod
    def get_injected_bit_from_filename(filename):
        split_on_underscore = filename.split("_")
        if len(split_on_underscore) == 1:
            #implied that if there is no underscore = no fault injected
            return None
        split_on_period = split_on_underscore[3].split(".")
        return split_on_period[0]

    def get_difference_from_control(self, path:Path):
        return self.data[str(path.name)]

    def to_string(self):
        output_string = self.get_output_string_heading()
        for filename, difference in self.data.items():
            alternative_datatype_result = str(self.get_alternative_implementation_results(Path(filename))).ljust(self.longest_result_string)
            formatted_string = self.FORMATTABLE_STRING.format(filename.ljust(self.longest_filename), str(difference).ljust(self.longest_result_string),
                                         alternative_datatype_result)
            output_string += formatted_string
        return output_string

    def get_output_string_heading(self):
        return self.FORMATTABLE_STRING.format(self.OUTPUT_COLUMN_HEADERS[0].ljust(self.longest_filename),
                                          self.OUTPUT_COLUMN_HEADERS[1].ljust(self.longest_result_string),
                                          self.OUTPUT_COLUMN_HEADERS[2].ljust(self.longest_result_string))


if __name__ == '__main__':
    if sys.argv[1] == '-h' or sys.argv[1] == '--help' or sys.argv[1] == '':
        print('Usage: compare_results <control_data_file_path> <data_folder_path>')
    else:
        comparator = Comparator(Path(sys.argv[1]), Path(sys.argv[2]))
        comparator.compare()
        print(comparator.get_results().to_string())
\end{lstlisting}

Otherwise, the whole repository containing the tests resides at

\url{https://github.com/larsj-blip/Taffo-fault-injection-comparison}.



\section{ Complete output for the Value Range Analysis of the benchmark 2mm}
\label{appendix:vra_2mm}

The actual values from running the benchmark are shown in Table \ref{table:actual_value_2mm}.  The values are formatted as columns rather than rows to fit in a page.


    \begin{table}[hb]
    \centering
    \caption{Actual values from running the benchmark.}
    \label{table:actual_value_2mm}
\begin{tabular}{c|c}
     benchmark name & 2mm \\
     fixed\_point\_invalid\_result\_count & 0\\ 
     floating\_point\_invalid\_result\_count & 0 \\ avg\_percentage\_error & 0.002116203505084219250051580296\\  avg\_absolute\_error &  0.1438640358449807895808080808\\ fixed\_point\_time\_average(s)  & 0.0081445  \\floating\_point\_time\_average(s)   &  0.012420 \\
     speedup  & 1.524955491435938363312664989 \\
    \end{tabular}
    \end{table}


    
